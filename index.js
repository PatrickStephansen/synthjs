!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([,function(t,e,n){var r=n(2);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(4)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,"body {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  background-color: black;\n  color: white;\n}\n\ninput,\nselect,\nbutton {\n  background-color: grey;\n  color: white;\n  border: solid 1px darkgrey;\n}\n\ncanvas {\n  border: solid grey 1px;\n}\n\nh1, h2, h3 {\n  margin: 0;\n}\n\nlabel {\n  margin-right: 5px;\n}\n\nbutton {\n  margin-bottom: 3px;\n}\n\n.control-group {\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n\n.flex-controls {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: left;\n}\n\n.flex-controls > div,\n.flex-controls-vertical > div {\n  margin-right: 30px;\n}\n\n.flex-controls-vertical {\n  display: flex;\n  flex-flow: column wrap;\n  justify-content: left;\n  max-height: 360px;\n}\n\n.numeric-input-control {\n  display: inline-block;\n}\n\n.note {\n  min-width: 4em;\n  padding-left: 5px;\n  display: inline-block;\n}\n\n#errors {\n  color: red;\n  font-size: 12pt;\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),o=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),o=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,u=[],c=n(5);function l(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(y(i.parts[a],e))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(y(i.parts[a],e));r[i.id]={id:i.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=o(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function h(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),m(e,t.attrs),p(t,e),e}function m(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=s++;n=a||(a=h(e)),r=b.bind(null,n,u,!1),i=b.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=c(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),i=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){d(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return l(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}t&&l(f(t,e),e);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var v=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function i(t){return function e(n){return 0===arguments.length||r(n)?e:t.apply(this,arguments)}}n.r(e);function o(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return r(n)?e:i(function(e){return t(n,e)});default:return r(n)&&r(o)?e:r(n)?i(function(e){return t(e,o)}):r(o)?i(function(e){return t(n,e)}):t(n,o)}}}function a(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,n){return e.apply(this,arguments)};case 3:return function(t,n,r){return e.apply(this,arguments)};case 4:return function(t,n,r,i){return e.apply(this,arguments)};case 5:return function(t,n,r,i,o){return e.apply(this,arguments)};case 6:return function(t,n,r,i,o,a){return e.apply(this,arguments)};case 7:return function(t,n,r,i,o,a,s){return e.apply(this,arguments)};case 8:return function(t,n,r,i,o,a,s,u){return e.apply(this,arguments)};case 9:return function(t,n,r,i,o,a,s,u,c){return e.apply(this,arguments)};case 10:return function(t,n,r,i,o,a,s,u,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function s(t,e,n){return function(){for(var i=[],o=0,u=t,c=0;c<e.length||o<arguments.length;){var l;c<e.length&&(!r(e[c])||o>=arguments.length)?l=e[c]:(l=arguments[o],o+=1),i[c]=l,r(l)||(u-=1),c+=1}return u<=0?n.apply(this,i):a(u,s(t,i,n))}}var u=o(function(t,e){return 1===t?i(e):a(t,s(t,[],e))});function c(t){return function e(n,a,s){switch(arguments.length){case 0:return e;case 1:return r(n)?e:o(function(e,r){return t(n,e,r)});case 2:return r(n)&&r(a)?e:r(n)?o(function(e,n){return t(e,a,n)}):r(a)?o(function(e,r){return t(n,e,r)}):i(function(e){return t(n,a,e)});default:return r(n)&&r(a)&&r(s)?e:r(n)&&r(a)?o(function(e,n){return t(e,n,s)}):r(n)&&r(s)?o(function(e,n){return t(e,a,n)}):r(a)&&r(s)?o(function(e,r){return t(n,e,r)}):r(n)?i(function(e){return t(e,a,s)}):r(a)?i(function(e){return t(n,e,s)}):r(s)?i(function(e){return t(n,a,e)}):t(n,a,s)}}}var l=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function f(t){return"function"==typeof t["@@transducer/step"]}function p(t,e,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!l(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(f(i))return e.apply(null,r)(i)}return n.apply(this,arguments)}}var d={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},h=o(function(t,e){return e>t?e:t});function m(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}function y(t){return"[object String]"===Object.prototype.toString.call(t)}var v=i(function(t){return!!l(t)||!!t&&("object"==typeof t&&(!y(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),b=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function g(t){return new b(t)}var w=o(function(t,e){return a(t.length,function(){return t.apply(e,arguments)})});function E(t,e,n){for(var r=n.next();!r.done;){if((e=t["@@transducer/step"](e,r.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=n.next()}return t["@@transducer/result"](e)}function x(t,e,n,r){return t["@@transducer/result"](n[r](w(t["@@transducer/step"],t),e))}var S="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function T(t,e,n){if("function"==typeof t&&(t=g(t)),v(n))return function(t,e,n){for(var r=0,i=n.length;r<i;){if((e=t["@@transducer/step"](e,n[r]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}(t,e,n);if("function"==typeof n["fantasy-land/reduce"])return x(t,e,n,"fantasy-land/reduce");if(null!=n[S])return E(t,e,n[S]());if("function"==typeof n.next)return E(t,e,n);if("function"==typeof n.reduce)return x(t,e,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}var _=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=d.init,t.prototype["@@transducer/result"]=d.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),O=o(function(t,e){return new _(t,e)});function A(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var j=Object.prototype.toString,C=function(){return"[object Arguments]"===j.call(arguments)?function(t){return"[object Arguments]"===j.call(t)}:function(t){return A("callee",t)}},k=!{toString:null}.propertyIsEnumerable("toString"),D=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],P=function(){return arguments.propertyIsEnumerable("length")}(),L=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1},R=i("function"!=typeof Object.keys||P?function(t){if(Object(t)!==t)return[];var e,n,r=[],i=P&&C(t);for(e in t)!A(e,t)||i&&"length"===e||(r[r.length]=e);if(k)for(n=D.length-1;n>=0;)A(e=D[n],t)&&!L(r,e)&&(r[r.length]=e),n-=1;return r}:function(t){return Object(t)!==t?[]:Object.keys(t)}),I=o(p(["fantasy-land/map","map"],O,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return u(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return T(function(n,r){return n[r]=t(e[r]),n},{},R(e));default:return m(t,e)}})),N=o(function(t,e){for(var n=e,r=0;r<t.length;){if(null==n)return;n=n[t[r]],r+=1}return n}),U=o(function(t,e){return N([t],e)}),M=c(T);Number.isInteger;var H=i(function(t){return u(t.length,t)});var q=c(function(t,e,n){if(t>e)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<t?t:n>e?e:n});var $=i(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function F(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function B(t,e){return function(){var n=arguments.length;if(0===n)return e();var r=arguments[n-1];return l(r)||"function"!=typeof r[t]?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var V=c(B("slice",function(t,e,n){return Array.prototype.slice.call(n,t,e)})),z=i(B("tail",V(1,1/0)));function Y(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return a(arguments[0].length,M(F,arguments[0],z(arguments)))}function G(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function X(t,e,n){for(var r=0,i=n.length;r<i;){if(t(e,n[r]))return!0;r+=1}return!1}var J=o(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e});function K(t,e,n,r){var i=G(t);function o(t,e){return W(t,e,n.slice(),r.slice())}return!X(function(t,e){return!X(o,e,t)},G(e),i)}function W(t,e,n,r){if(J(t,e))return!0;var i=$(t);if(i!==$(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!J(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!J(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===t)return r[o]===e;o-=1}switch(i){case"Map":return t.size===e.size&&K(t.entries(),e.entries(),n.concat([t]),r.concat([e]));case"Set":return t.size===e.size&&K(t.values(),e.values(),n.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=R(t);if(a.length!==R(e).length)return!1;var s=n.concat([t]),u=r.concat([e]);for(o=a.length-1;o>=0;){var c=a[o];if(!A(c,e)||!W(e[c],t[c],s,u))return!1;o-=1}return!0}var Q=o(function(t,e){return W(t,e,[],[])});var Z=function(t){return(t<10?"0":"")+t};Date.prototype.toISOString;function tt(t,e){for(var n=0,r=e.length,i=[];n<r;)t(e[n])&&(i[i.length]=e[n]),n+=1;return i}function et(t){return"[object Object]"===Object.prototype.toString.call(t)}var nt=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=d.init,t.prototype["@@transducer/result"]=d.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),rt=o(p(["filter"],o(function(t,e){return new nt(t,e)}),function(t,e){return et(e)?T(function(n,r){return t(e[r])&&(n[r]=e[r]),n},{},R(e)):tt(t,e)}));var it=i(function(t){return a(M(h,0,I(function(t){return t[0].length},t)),function(){for(var e=0;e<t.length;){if(t[e][0].apply(this,arguments))return t[e][1].apply(this,arguments);e+=1}})});function ot(t){return t}var at=i(ot);var st="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,r=arguments.length;n<r;){var i=arguments[n];if(null!=i)for(var o in i)A(o,i)&&(e[o]=i[o]);n+=1}return e},ut=o(function(t,e){var n={};return n[t]=e,n});Array,String,Object;var ct=o(function(t,e){return null!=e&&e.constructor===t||e instanceof t});var lt=c(function(t,e,n){var r,i={};for(r in e)A(r,e)&&(i[r]=A(r,n)?t(r,e[r],n[r]):e[r]);for(r in n)A(r,n)&&!A(r,i)&&(i[r]=n[r]);return i}),ft=c(function t(e,n,r){return lt(function(n,r,i){return et(r)&&et(i)?t(e,r,i):e(n,r,i)},n,r)}),pt=o(function(t,e){return ft(function(t,e,n){return n},t,e)}),dt=c(function(t,e,n){return t(n)<t(e)?n:e});var ht=c(function(t,e,n){return Q(e,n[t])}),mt=o(function(t,e){return Array.prototype.slice.call(e,0).sort(function(e,n){var r=t(e),i=t(n);return r<i?-1:r>i?1:0})});var yt="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",vt=(String.prototype.trim,c(function(t,e,n){return t(n)?e(n):n})),bt=(n(1),function(t,e){return(bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});function gt(t,e){function n(){this.constructor=t}bt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function wt(t){return"function"==typeof t}var Et=!1,xt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;Et=t},get useDeprecatedSynchronousErrorHandling(){return Et}};function St(t){setTimeout(function(){throw t})}var Tt={closed:!0,next:function(t){},error:function(t){if(xt.useDeprecatedSynchronousErrorHandling)throw t;St(t)},complete:function(){}},_t=Array.isArray||function(t){return t&&"number"==typeof t.length};function Ot(t){return null!=t&&"object"==typeof t}var At,jt={e:{}};function Ct(){try{return At.apply(this,arguments)}catch(t){return jt.e=t,jt}}function kt(t){return At=t,Ct}var Dt=function(t){function e(n){var r=t.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"")||this;return r.errors=n,r.name="UnsubscriptionError",Object.setPrototypeOf(r,e.prototype),r}return gt(e,t),e}(Error),Pt=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,s=r?r.length:0;n;)n.remove(this),n=++a<s&&r[a]||null;if(wt(i))kt(i).call(this)===jt&&(e=!0,t=t||(jt.e instanceof Dt?Lt(jt.e.errors):[jt.e]));if(_t(o))for(a=-1,s=o.length;++a<s;){var u=o[a];if(Ot(u))if(kt(u.unsubscribe).call(u)===jt){e=!0,t=t||[];var c=jt.e;c instanceof Dt?t=t.concat(Lt(c.errors)):t.push(c)}}if(e)throw new Dt(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function Lt(t){return t.reduce(function(t,e){return t.concat(e instanceof Dt?e.errors:e)},[])}var Rt="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",It=function(t){function e(e,n,r){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Tt;break;case 1:if(!e){i.destination=Tt;break}if("object"==typeof e){if(function(t){return t instanceof It||"syncErrorThrowable"in t&&t[Rt]}(e)){var o=e[Rt]();i.syncErrorThrowable=o.syncErrorThrowable,i.destination=o,o.add(i)}else i.syncErrorThrowable=!0,i.destination=new Nt(i,e);break}default:i.syncErrorThrowable=!0,i.destination=new Nt(i,e,n,r)}return i}return gt(e,t),e.prototype[Rt]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(Pt),Nt=function(t){function e(e,n,r,i){var o,a=t.call(this)||this;a._parentSubscriber=e;var s=a;return wt(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Tt&&(wt((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=r,a._complete=i,a}return gt(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;xt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=xt.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):St(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;St(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};xt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),xt.useDeprecatedSynchronousErrorHandling)throw t;St(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!xt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return xt.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(St(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(It);var Ut="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mt(){}function Ht(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:Mt}var qt=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof It)return t;if(t[Rt])return t[Rt]()}return t||e||n?new It(t,e,n):new It(Tt)}(t,e,n);if(r?r.call(i,this.source):i.add(this.source||xt.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),xt.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){xt.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=$t(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[Ut]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Ht(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=$t(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function $t(t){if(t||(t=xt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function Ft(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Bt(t,e))}}var Bt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Vt(t,this.project,this.thisArg))},t}(),Vt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return gt(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(It);Object.prototype.toString;function zt(t,e,n,r){return wt(n)&&(r=n,n=void 0),r?zt(t,e,n).pipe(Ft(function(t){return _t(t)?r.apply(void 0,t):r(t)})):new qt(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)},r,n)})}const Yt={min:-1,max:1,step:.001,label:"",value:.25};let Gt=0;class Xt{constructor(t){t=pt(Yt,t),this.htmlElement=document.createElement("div"),this.htmlElement.classList.add("numeric-input-control"),this.id=t.id||`numeric-input-${Gt++}`,this.max=t.max,this.min=t.min,this.htmlElement.innerHTML=`\n      <label for="${this.id}">${t.label}</label>\n      <input\n        type="number"\n        id="${this.id}"\n        max="${t.max}"\n        min="${t.min}"\n        step="${t.step}">`,this.inputElement=this.htmlElement.lastChild,this.setValue(t.value),this.change$=zt(this.inputElement,"input").pipe(Ft(N(["target","value"])),Ft(t=>{this.setValue(t)}),Ft(()=>this.value))}setValue(t){isFinite(t)&&(this.value=q(this.min,this.max,t),this.inputElement.value=this.value)}}var Jt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.compare,this.keySelector))},t}(),Kt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return gt(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=kt(this.keySelector)(t))===jt)return this.destination.error(jt.e);var n=!1;if(this.hasKey){if((n=kt(this.compare)(this.key,e))===jt)return this.destination.error(jt.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(It);class Wt{constructor(t,e){this.subscriptions=[],this.audioNode=new GainNode(t,e),this.audioContext=t,this.htmlElement=document.createElement("div"),this.htmlElement.classList.add("gain-control"),this.inputControl=new Xt({min:0,max:1,step:.001,value:this.audioNode.gain.value,label:"Gain"}),this.noteDisplayElement=document.createElement("span"),this.noteDisplayElement.classList.add("note"),this.htmlElement.appendChild(this.inputControl.htmlElement),this.htmlElement.appendChild(this.noteDisplayElement),this.subscriptions.push(this.inputControl.change$.pipe(function(t,e){return function(n){return n.lift(new Jt(t,e))}}()).subscribe(t=>{this.audioNode.gain.value=t}))}startEnvelope({a:t,d:e,s:n},r,i){this.audioNode.gain.cancelScheduledValues(this.audioNode.context.currentTime),this.audioNode.gain.setTargetAtTime(t.amplitude*r,this.audioNode.context.currentTime,t.time/4),this.audioNode.gain.setTargetAtTime(n.amplitude*r,this.audioNode.context.currentTime+t.time,e.time/4),this.inputControl.setValue(t.amplitude*r),this.noteDisplayElement.innerText=i}endEnvelope({r:t}){this.audioNode.gain.cancelAndHoldAtTime(this.audioNode.context.currentTime),this.audioNode.gain.setTargetAtTime(0,this.audioNode.context.currentTime,t.time/4),this.inputControl.setValue(0),this.noteDisplayElement.innerText=""}}let Qt=0;const Zt=()=>document.getElementById("master-controls"),te=()=>document.getElementById("oscillator-controls"),ee=()=>{let t=[],e=!0;CanvasRenderingContext2D.prototype.addHitRegion=CanvasRenderingContext2D.prototype.addHitRegion||function(n){t.push(n),e&&(e=!1,this.canvas.addEventListener("mousedown",e=>{for(let n of t)this.isPointInPath(n.path,e.offsetX,e.offsetY)&&(e.region=n.id)}))},CanvasRenderingContext2D.prototype.clearHitRegions=CanvasRenderingContext2D.prototype.clearHitRegions||function(){t=[]}},ne=()=>{const t=N(["navigator","requestMIDIAccess"],window);if(!ct(Function,t))throw new Error("No midi support. This app requires a Chromium-based browser to input midi.");return window.navigator.requestMIDIAccess().then(t=>{const e=t.inputs.values(),n=[];for(let t=e.next();!U("done",t);t=e.next())n.push(t.value);if(!n.length)throw new Error("No midi ports found. You need to plug in a midi controller or start an app that outputs midi signals to make any sounds.");return n},console.error)},re=t=>t.a.moving||t.d.moving||t.s.moving||t.r.moving||!1,ie=H((t,e,n)=>e*2**((n-t)/12)),oe={height:450,width:1300,maxAmplitude:1,totalSeconds:5,handleRadius:6,minSustainWidth:50,noteFontSize:16};let ae=[];const se=({height:t,width:e,maxAmplitude:n,totalSeconds:r,handleRadius:i,noteFontSize:o},a,{a:s,d:u,s:c,r:l},f)=>{const p=n/t,d=r/e,h=(e,n,r)=>e.lineTo(n/d,t-r/p);a.lineJoin="miter",a.clearRect(0,0,e,t),a.clearHitRegions();const m=new Path2D;m.moveTo(0,t),h(m,s.time,s.amplitude),h(m,s.time+u.time,c.amplitude),h(m,r-l.time,c.amplitude),h(m,r,0),a.stroke(m);const y=new Path2D;y.arc(s.time/d,t-s.amplitude/p,i,0,2*Math.PI,!1),a.addHitRegion({id:"attack",path:y}),a.fill(y);const v=new Path2D;v.arc((s.time+u.time)/d,t-c.amplitude/p,i,0,2*Math.PI,!1),a.addHitRegion({id:"decay",path:v}),a.fill(v);const b=new Path2D;b.arc((r-l.time)/d,t-c.amplitude/p,i,0,2*Math.PI,!1),a.addHitRegion({id:"release",path:b}),a.fill(b),((t,{a:e,d:n,s:r,r:i})=>{const o=`Attack:\n  time: ${e.time}\n  amplitude: ${e.amplitude}\nDecay:\n  time: ${n.time}\nSustain:\n  amplitude: ${r.amplitude}\nRelease:\n  time: ${i.time}`;o!==t.innerText&&(t.innerText=o)})(f,{a:s,d:u,s:c,r:l});const g=Date.now();((t,{height:e,totalSeconds:n,amplitudePerPixel:r,secondsPerPixel:i,noteFontSize:o},a,{r:s},u)=>{a.save(),a.fillStyle="rgba(255, 255, 255, 0.6)",a.textAlign="center",a.textBaseline="ideographic",a.font=`${o}px sans-serif`;const c=.6*a.measureText("E#-1").width,l=rt(t=>t.startTime<=u&&u<=t.endTime),f=l(t);f.forEach(t=>l(t.phases).forEach(t=>{const o=t.curveStartTime>0?t.curveStartTime:1e3*-n-t.curveStartTime+t.startTime;let l=(u-o)/1e3/i;"sustain"===t.phase&&(l=Math.min(l,(n-s.time)/i));const f=e-t.curve((u-t.startTime)/1e3)/r;t.timeOnCanvas=l,t.amplitudeOnCanvas=f,a.beginPath(),a.arc(l,f,c,0,2*Math.PI),a.fill()})),a.fillStyle="rgba(0, 0, 0, 0.8)",f.forEach(t=>l(t.phases).forEach(e=>{a.fillText(t.noteName,e.timeOnCanvas,e.amplitudeOnCanvas+.5*o)})),a.restore()})(ae=ae.filter(t=>t.endTime>g),{height:t,width:e,maxAmplitude:n,totalSeconds:r,amplitudePerPixel:p,secondsPerPixel:d,noteFontSize:o},a,{r:l},g),ae.filter(t=>t.startTime<=g&&g<=t.endTime).length&&requestAnimationFrame(()=>se({height:t,width:e,maxAmplitude:n,totalSeconds:r,handleRadius:i,noteFontSize:o},a,{a:s,d:u,s:c,r:l},f))},ue=H(({height:t,width:e,maxAmplitude:n,totalSeconds:r,minSustainWidth:i},{a:o,d:a,s:s,r:u},c)=>{const l=n/t,f=r/e;if(o.moving){const t=o;t.amplitude=q(0,n,n-c.relativeY*l),t.time=q(0,r-i*f-(a.time+u.time),c.relativeX*f)}a.moving&&(s.amplitude=q(0,n,n-c.relativeY*l),a.time=q(0,r-i*f-(o.time+u.time),c.relativeX*f-o.time)),u.moving&&(s.amplitude=q(0,n,n-c.relativeY*l),u.time=q(0,r-i*f-(o.time+a.time),(e-c.relativeX)*f))}),ce=H((t,{a:e,d:n,s:r,r:i},{data:[o,a,s]})=>{if(128<=o&&o<=159){let u;const c=(t=>["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][t%12]+(Math.floor(t/12)-1))(a);if(s<=0||o<=143){if(!(u=((t,e)=>mt(t=>-t.lastPressed,t).find(t=>t.key===e&&!t.isDecaying))(t,a)))return;u.freeTimer=setTimeout(()=>{u.key=null,u.isDecaying=!1},1e3*i.time),u.lastReleased=Date.now(),u.isDecaying=!0,ae.splice(ae.findIndex(t=>t.phases.some(t=>"attack"===t.phase)&&t.noteName===c),1),ae.push((({s:t,r:e},n)=>{const r=Date.now();return{noteName:n,startTime:r,endTime:r+1e3*e.time,phases:[{phase:"release",curve:n=>-t.amplitude/e.time*n+t.amplitude,startTime:r,curveStartTime:1e3*-e.time,endTime:r+1e3*e.time}]}})({s:r,r:i},c)),u.amp.endEnvelope({r:i},c)}else{const i=s/127;(u=(t=>t.find(t=>!t.key)||t.some(t=>t.isDecaying)&&t.filter(t=>t.isDecaying).reduce(dt(t=>t.lastReleased))||t.reduce(dt(t=>t.lastReleased)))(t)).lastPressed=Date.now(),u.isDecaying=!1,ae.push((({a:t,d:e,s:n},r)=>{const i=Date.now();return{noteName:r,startTime:i,endTime:i+6e4,phases:[{phase:"attack",curve:e=>t.amplitude/t.time*e,startTime:i,curveStartTime:i,endTime:i+1e3*t.time},{phase:"decay",curve:r=>r*((n.amplitude-t.amplitude)/e.time)+t.amplitude,startTime:i+1e3*t.time,curveStartTime:i,endTime:i+1e3*(t.time+e.time)},{phase:"sustain",curve:()=>n.amplitude,startTime:i+1e3*(t.time+e.time),curveStartTime:i,endTime:i+6e4}]}})({a:e,d:n,s:r},c)),u.amp.startEnvelope({a:e,d:n,s:r},i,c),null!==u.key&&clearTimeout(u.freeTimer)}return u.key=a,u.oscillator.frequency.setValueAtTime(ie(57,440,a+Qt),u.oscillator.context.currentTime),!0}return 224<=o&&o<=239&&(Qt=(s-64)/64*2,t.forEach(t=>{t.key&&t.oscillator.frequency.setValueAtTime(ie(57,440,t.key+Qt),t.oscillator.context.currentTime)})),!1}),le=(t,e,n,r)=>{t.forEach((t,i)=>{i==r?(localStorage.setItem("midi-controller-index",r),e[i]&&(e[i].selected=!0),t.onmidimessage=n):t.onmidimessage=null})},fe=H((t,e)=>{const n=document.createElement("div");n.classList.add("control-group");const r=document.createElement("select");r.id="midiInputSelect";const i=document.createElement("label");return i.htmlFor=r.id,i.innerText="midi input",e.forEach((t,e)=>{const n=document.createElement("option");n.value=e,n.innerText=`${t.manufacturer} ${t.name}`,r.options.add(n)}),r.onchange=(n=>{le(e,r.options,t,n.target.value)}),e.length&&localStorage.getItem("midi-controller-index")<=e.length&&le(e,r.options,t,localStorage.getItem("midi-controller-index")||0),n.appendChild(i),n.appendChild(r),Zt().appendChild(n),e}),pe=H((t,e)=>{const n=t.getBoundingClientRect();return e.relativeX=e.clientX-n.x,e.relativeY=e.clientY-n.y,e});let de,he;document.addEventListener("readystatechange",({target:t})=>"complete"===t.readyState&&(()=>{ee();const t=new AudioContext,e=[];for(let n=0;n<30;n++)e.push({oscillator:new OscillatorNode(t),amp:new Wt(t,{gain:0})});const n={a:{time:.01,amplitude:1},d:{time:.25},s:{amplitude:.25},r:{time:1}},r=new Wt(t,{gain:.3});r.audioNode.connect(t.destination),t.suspend().then(()=>{e.forEach(({oscillator:t,amp:e})=>t.connect(e.audioNode).connect(r.audioNode));const i=document.createElement("button");let o=!1;i.innerHTML="make some noise",i.title="Enable sound. Some browsers have autoplay policies that stop sound from being enabled immediately when a page loads.",i.addEventListener("click",()=>{(o=!o)?(t.resume(),i.innerHTML="cut that out",i.title="Mute sound"):(t.suspend(),i.title="Enable sound.",i.innerHTML="make some noise")}),Zt().appendChild(i);const a=document.createElement("div");a.classList.add("control-group");const s=document.createElement("select");s.id="waveform-selector",["sine","triangle","square","sawtooth"].forEach(t=>{const e=document.createElement("option");e.value=t,e.innerText=`${t}`,s.options.add(e)}),s.onchange=(t=>e.forEach(({oscillator:e})=>e.type=t.target.value));const u=document.createElement("label");u.htmlFor=s.id,u.innerText="waveform",a.appendChild(u),a.appendChild(s),te().appendChild(a),Zt().appendChild(r.htmlElement);const c=document.createElement("div");c.classList.add("flex-controls");const l=document.createElement("div"),f=document.createElement("h3");f.innerText="Gain envelope",l.appendChild(f);const p=document.createElement("canvas");p.id="midiInputGainEnvelope";const d=document.createElement("div");d.id="gainEnvelopeListener",p.width=oe.width,p.height=oe.height,(de=p.getContext("2d")).fillStyle="white",de.strokeStyle="grey",de.save(),he=document.createElement("pre");const h=ht("region");d.addEventListener("mousedown",it([[h("attack"),()=>{n.a.moving=!0,n.d.moving=n.r.moving=!1}],[h("decay"),()=>{n.d.moving=!0,n.a.moving=n.r.moving=!1}],[h("release"),()=>{n.r.moving=!0,n.a.moving=n.d.moving=!1}]])),window.addEventListener("mousemove",vt(()=>re(n),Y(pe(d),ue(oe,n),()=>requestAnimationFrame(()=>se(oe,de,n,he)),()=>window.getSelection().empty())));const m=vt(()=>re(n),Y(pe(d),ue(oe,n),()=>(t=>{for(let e in t)t[e].moving=!1})(n),()=>requestAnimationFrame(()=>se(oe,de,n,he))));window.addEventListener("mouseup",m),se(oe,de,n,he),d.appendChild(p),l.appendChild(d),l.appendChild(he);const y=document.createElement("div"),v=document.createElement("h3");v.innerText="Oscillator pool",y.appendChild(v);const b=document.createElement("div");b.classList.add("flex-controls-vertical"),e.forEach(({amp:t})=>b.appendChild(t.htmlElement)),y.appendChild(b),c.appendChild(l),c.appendChild(y),te().appendChild(c),e.forEach(({oscillator:t})=>t.start())}).then(ne).then(fe(Y(ce(e,n),vt(at,()=>se(oe,de,n,he))))).catch(t=>{const e=document.getElementById("errors"),n=document.createElement("p");n.textContent=t.message,e.appendChild(n)})})())}]);